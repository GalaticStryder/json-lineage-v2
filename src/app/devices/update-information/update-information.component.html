<div *ngIf="update" class="row">
  <div class="col s12 m5 offset-m2">
    <h4 *ngIf="updateNumber !== null">Update Information</h4>
    <p *ngIf="updateNumber !== null">Showing information for <i>Update Number</i> <b>#{{ updateNumber }}</b>.</p>
    <h4 *ngIf="updateNumber === null">New Update</h4>
    <p *ngIf="updateNumber === null">Creating new update for <i>Device ID</i> <b>#{{ device._id }}</b>.</p>
    <form class="col s12">
      <div class="form-group">
        <label for="update-id">ID</label>
        <input class="form-control" name="update-id" [(ngModel)]="update.id" placeholder="ID" disabled/>
      </div>
    </form>
    <form class="col s12">
      <div class="form-group">
        <label for="update-datetime">Date</label>
        <input class="form-control" name="update-datetime" [(ngModel)]="update.datetime" placeholder="Date" disabled/>
      </div>
    </form>
    <form>
      <mat-form-field class="col s6">
        <mat-select name="update-romtype" [(ngModel)]="update.romtype" placeholder="ROM Type" required>
          <mat-option *ngFor="let type of romTypes" [value]="type.value">
            {{type.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="col s6">
        <mat-select name="update-version" [(ngModel)]="update.version" placeholder="ROM Version" required>
          <mat-option *ngFor="let version of romVersions" [value]="version.value">
            {{version.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
    <form class="col s12">
      <div class="form-group">
        <label for="update-filename">File Name</label>
        <input class="form-control" name="update-filename" [(ngModel)]="update.filename" placeholder="File Name"/>
        <label for="update-url">File URL</label>
        <input class="form-control" name="update-url" [(ngModel)]="update.url" placeholder="File URL"/>
        <label for="update-size">File Size: <b>{{update.size/1000000}} MB</b></label>
        <mat-slider class="slider-margin" name="update-size" min="1000000" max="1000000000" step="500000" [(ngModel)]="update.size"></mat-slider>
        <!-- TODO: Add thumbLabel format -->
      </div>
    </form>
    <a class="waves-effect waves-light btn" *ngIf="updateNumber === null" (click)="createUpdate(update)"><i class="material-icons right">create</i>Create</a>
    <a class="waves-effect waves-light btn red" *ngIf="updateNumber !== null" (click)="deleteUpdate(updateNumber)"><i class="material-icons left">delete</i>Delete</a>
  </div>
</div>
